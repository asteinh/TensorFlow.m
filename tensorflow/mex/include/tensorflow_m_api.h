#ifndef TENSORFLOW_M_API_H
#define TENSORFLOW_M_API_H

#include "tensorflow_m_.h"
#include "tensorflow_m_impl_custom.h"
#include "tensorflow_m_impl_capi.h"

// struct for wrapping interface redirects
typedef struct {
  char* cmd;
  void (*func)(MEX_ARGS);
} command_handle;

// publicly available API functions
static command_handle handles[] = {
  // custom implementations
  { "TFM_Info", TFM_Info },
  { "TFM_NewInput", TFM_NewInput },
  { "TFM_DeleteInput", TFM_DeleteInput },
  { "TFM_NewOutput", TFM_NewOutput },
  { "TFM_DeleteOutput", TFM_DeleteOutput },
  { "TFM_DeleteOperation", TFM_DeleteOperation },
  { "TFM_DeleteOperationDescription", TFM_DeleteOperationDescription },
  { "TFM_SetTensorData", TFM_SetTensorData },
  { "TFM_GetTensorData", TFM_GetTensorData },
  { "TFM_BufferLength", TFM_BufferLength },
  { "TFM_SetBufferData", TFM_SetBufferData },
  { "TFM_GetBufferData", TFM_GetBufferData },
  { "TFM_FileToBuffer", TFM_FileToBuffer },
  { "TFM_BufferToFile", TFM_BufferToFile },
  { "TFM_DeleteWhile", TFM_DeleteWhile },
  // C API functions
  { "TF_Version", TF_Version_ },
  { "TF_DataTypeSize", TF_DataTypeSize_ },
  { "TF_NewStatus", TF_NewStatus_ },
  { "TF_DeleteStatus", TF_DeleteStatus_ },
  { "TF_SetStatus", TF_SetStatus_ },
  { "TF_GetCode", TF_GetCode_ },
  { "TF_Message", TF_Message_ },
  { "TF_NewBufferFromString", TF_NewBufferFromString_ },
  { "TF_NewBuffer", TF_NewBuffer_ },
  { "TF_DeleteBuffer", TF_DeleteBuffer_ },
  { "TF_GetBuffer", TF_GetBuffer_ },
  { "TF_NewTensor", TF_NewTensor_ },
  { "TF_AllocateTensor", TF_AllocateTensor_ },
  { "TF_TensorMaybeMove", TF_TensorMaybeMove_ },
  { "TF_DeleteTensor", TF_DeleteTensor_ },
  { "TF_TensorType", TF_TensorType_ },
  { "TF_NumDims", TF_NumDims_ },
  { "TF_Dim", TF_Dim_ },
  { "TF_TensorByteSize", TF_TensorByteSize_ },
  { "TF_TensorData", TF_TensorData_ },
  { "TF_TensorElementCount", TF_TensorElementCount_ },
  { "TF_TensorBitcastFrom", TF_TensorBitcastFrom_ },
  { "TF_StringEncode", TF_StringEncode_ },
  { "TF_StringDecode", TF_StringDecode_ },
  { "TF_StringEncodedSize", TF_StringEncodedSize_ },
  { "TF_NewSessionOptions", TF_NewSessionOptions_ },
  { "TF_SetTarget", TF_SetTarget_ },
  { "TF_SetConfig", TF_SetConfig_ },
  { "TF_DeleteSessionOptions", TF_DeleteSessionOptions_ },
  { "TF_NewGraph", TF_NewGraph_ },
  { "TF_DeleteGraph", TF_DeleteGraph_ },
  { "TF_GraphSetTensorShape", TF_GraphSetTensorShape_ },
  { "TF_GraphGetTensorNumDims", TF_GraphGetTensorNumDims_ },
  { "TF_GraphGetTensorShape", TF_GraphGetTensorShape_ },
  { "TF_NewOperation", TF_NewOperation_ },
  { "TF_SetDevice", TF_SetDevice_ },
  { "TF_AddInput", TF_AddInput_ },
  { "TF_AddInputList", TF_AddInputList_ },
  { "TF_AddControlInput", TF_AddControlInput_ },
  { "TF_ColocateWith", TF_ColocateWith_ },
  { "TF_SetAttrString", TF_SetAttrString_ },
  { "TF_SetAttrStringList", TF_SetAttrStringList_ },
  { "TF_SetAttrInt", TF_SetAttrInt_ },
  { "TF_SetAttrIntList", TF_SetAttrIntList_ },
  { "TF_SetAttrFloat", TF_SetAttrFloat_ },
  { "TF_SetAttrFloatList", TF_SetAttrFloatList_ },
  { "TF_SetAttrBool", TF_SetAttrBool_ },
  { "TF_SetAttrBoolList", TF_SetAttrBoolList_ },
  { "TF_SetAttrType", TF_SetAttrType_ },
  { "TF_SetAttrTypeList", TF_SetAttrTypeList_ },
  { "TF_SetAttrPlaceholder", TF_SetAttrPlaceholder_ },
  { "TF_SetAttrFuncName", TF_SetAttrFuncName_ },
  { "TF_SetAttrShape", TF_SetAttrShape_ },
  { "TF_SetAttrShapeList", TF_SetAttrShapeList_ },
  { "TF_SetAttrTensorShapeProto", TF_SetAttrTensorShapeProto_ },
  { "TF_SetAttrTensorShapeProtoList", TF_SetAttrTensorShapeProtoList_ },
  { "TF_SetAttrTensor", TF_SetAttrTensor_ },
  { "TF_SetAttrTensorList", TF_SetAttrTensorList_ },
  { "TF_SetAttrValueProto", TF_SetAttrValueProto_ },
  { "TF_FinishOperation", TF_FinishOperation_ },
  { "TF_OperationName", TF_OperationName_ },
  { "TF_OperationOpType", TF_OperationOpType_ },
  { "TF_OperationDevice", TF_OperationDevice_ },
  { "TF_OperationNumOutputs", TF_OperationNumOutputs_ },
  { "TF_OperationOutputType", TF_OperationOutputType_ },
  { "TF_OperationOutputListLength", TF_OperationOutputListLength_ },
  { "TF_OperationNumInputs", TF_OperationNumInputs_ },
  { "TF_OperationInputType", TF_OperationInputType_ },
  { "TF_OperationInputListLength", TF_OperationInputListLength_ },
  { "TF_OperationInput", TF_OperationInput_ },
  { "TF_OperationOutputNumConsumers", TF_OperationOutputNumConsumers_ },
  { "TF_OperationOutputConsumers", TF_OperationOutputConsumers_ },
  { "TF_OperationNumControlInputs", TF_OperationNumControlInputs_ },
  { "TF_OperationGetControlInputs", TF_OperationGetControlInputs_ },
  { "TF_OperationNumControlOutputs", TF_OperationNumControlOutputs_ },
  { "TF_OperationGetControlOutputs", TF_OperationGetControlOutputs_ },
  { "TF_OperationGetAttrMetadata", TF_OperationGetAttrMetadata_ },
  { "TF_OperationGetAttrString", TF_OperationGetAttrString_ },
  { "TF_OperationGetAttrStringList", TF_OperationGetAttrStringList_ },
  { "TF_OperationGetAttrInt", TF_OperationGetAttrInt_ },
  { "TF_OperationGetAttrIntList", TF_OperationGetAttrIntList_ },
  { "TF_OperationGetAttrFloat", TF_OperationGetAttrFloat_ },
  { "TF_OperationGetAttrFloatList", TF_OperationGetAttrFloatList_ },
  { "TF_OperationGetAttrBool", TF_OperationGetAttrBool_ },
  { "TF_OperationGetAttrBoolList", TF_OperationGetAttrBoolList_ },
  { "TF_OperationGetAttrType", TF_OperationGetAttrType_ },
  { "TF_OperationGetAttrTypeList", TF_OperationGetAttrTypeList_ },
  { "TF_OperationGetAttrShape", TF_OperationGetAttrShape_ },
  { "TF_OperationGetAttrShapeList", TF_OperationGetAttrShapeList_ },
  { "TF_OperationGetAttrTensorShapeProto", TF_OperationGetAttrTensorShapeProto_ },
  { "TF_OperationGetAttrTensorShapeProtoList", TF_OperationGetAttrTensorShapeProtoList_ },
  { "TF_OperationGetAttrTensor", TF_OperationGetAttrTensor_ },
  { "TF_OperationGetAttrTensorList", TF_OperationGetAttrTensorList_ },
  { "TF_OperationGetAttrValueProto", TF_OperationGetAttrValueProto_ },
  { "TF_GraphOperationByName", TF_GraphOperationByName_ },
  { "TF_GraphNextOperation", TF_GraphNextOperation_ },
  { "TF_GraphToGraphDef", TF_GraphToGraphDef_ },
  { "TF_GraphGetOpDef", TF_GraphGetOpDef_ },
  { "TF_GraphVersions", TF_GraphVersions_ },
  { "TF_NewImportGraphDefOptions", TF_NewImportGraphDefOptions_ },
  { "TF_DeleteImportGraphDefOptions", TF_DeleteImportGraphDefOptions_ },
  { "TF_ImportGraphDefOptionsSetPrefix", TF_ImportGraphDefOptionsSetPrefix_ },
  { "TF_ImportGraphDefOptionsSetDefaultDevice", TF_ImportGraphDefOptionsSetDefaultDevice_ },
  { "TF_ImportGraphDefOptionsSetUniquifyNames", TF_ImportGraphDefOptionsSetUniquifyNames_ },
  { "TF_ImportGraphDefOptionsSetUniquifyPrefix", TF_ImportGraphDefOptionsSetUniquifyPrefix_ },
  { "TF_ImportGraphDefOptionsAddInputMapping", TF_ImportGraphDefOptionsAddInputMapping_ },
  { "TF_ImportGraphDefOptionsRemapControlDependency", TF_ImportGraphDefOptionsRemapControlDependency_ },
  { "TF_ImportGraphDefOptionsAddControlDependency", TF_ImportGraphDefOptionsAddControlDependency_ },
  { "TF_ImportGraphDefOptionsAddReturnOutput", TF_ImportGraphDefOptionsAddReturnOutput_ },
  { "TF_ImportGraphDefOptionsNumReturnOutputs", TF_ImportGraphDefOptionsNumReturnOutputs_ },
  { "TF_ImportGraphDefOptionsAddReturnOperation", TF_ImportGraphDefOptionsAddReturnOperation_ },
  { "TF_ImportGraphDefOptionsNumReturnOperations", TF_ImportGraphDefOptionsNumReturnOperations_ },
  { "TF_ImportGraphDefResultsReturnOutputs", TF_ImportGraphDefResultsReturnOutputs_ },
  { "TF_ImportGraphDefResultsReturnOperations", TF_ImportGraphDefResultsReturnOperations_ },
  { "TF_ImportGraphDefResultsMissingUnusedInputMappings", TF_ImportGraphDefResultsMissingUnusedInputMappings_ },
  { "TF_DeleteImportGraphDefResults", TF_DeleteImportGraphDefResults_ },
  { "TF_GraphImportGraphDefWithResults", TF_GraphImportGraphDefWithResults_ },
  { "TF_GraphImportGraphDefWithReturnOutputs", TF_GraphImportGraphDefWithReturnOutputs_ },
  { "TF_GraphImportGraphDef", TF_GraphImportGraphDef_ },
  { "TF_GraphCopyFunction", TF_GraphCopyFunction_ },
  { "TF_GraphNumFunctions", TF_GraphNumFunctions_ },
  { "TF_GraphGetFunctions", TF_GraphGetFunctions_ },
  { "TF_OperationToNodeDef", TF_OperationToNodeDef_ },
  { "TF_NewWhile", TF_NewWhile_ },
  { "TF_FinishWhile", TF_FinishWhile_ },
  { "TF_AbortWhile", TF_AbortWhile_ },
  { "TF_GraphToFunction", TF_GraphToFunction_ },
  { "TF_FunctionName", TF_FunctionName_ },
  { "TF_FunctionToFunctionDef", TF_FunctionToFunctionDef_ },
  { "TF_FunctionImportFunctionDef", TF_FunctionImportFunctionDef_ },
  { "TF_FunctionSetAttrValueProto", TF_FunctionSetAttrValueProto_ },
  { "TF_FunctionGetAttrValueProto", TF_FunctionGetAttrValueProto_ },
  { "TF_DeleteFunction", TF_DeleteFunction_ },
  { "TF_TryEvaluateConstant", TF_TryEvaluateConstant_ },
  { "TF_NewSession", TF_NewSession_ },
  { "TF_LoadSessionFromSavedModel", TF_LoadSessionFromSavedModel_ },
  { "TF_CloseSession", TF_CloseSession_ },
  { "TF_DeleteSession", TF_DeleteSession_ },
  { "TF_SessionRun", TF_SessionRun_ },
  { "TF_SessionPRunSetup", TF_SessionPRunSetup_ },
  { "TF_SessionPRun", TF_SessionPRun_ },
  { "TF_DeletePRunHandle", TF_DeletePRunHandle_ },
  { "TF_NewDeprecatedSession", TF_NewDeprecatedSession_ },
  { "TF_CloseDeprecatedSession", TF_CloseDeprecatedSession_ },
  { "TF_DeleteDeprecatedSession", TF_DeleteDeprecatedSession_ },
  { "TF_Reset", TF_Reset_ },
  { "TF_ExtendGraph", TF_ExtendGraph_ },
  { "TF_Run", TF_Run_ },
  { "TF_PRunSetup", TF_PRunSetup_ },
  { "TF_PRun", TF_PRun_ },
  { "TF_SessionListDevices", TF_SessionListDevices_ },
  { "TF_DeprecatedSessionListDevices", TF_DeprecatedSessionListDevices_ },
  { "TF_DeleteDeviceList", TF_DeleteDeviceList_ },
  { "TF_DeviceListCount", TF_DeviceListCount_ },
  { "TF_DeviceListName", TF_DeviceListName_ },
  { "TF_DeviceListType", TF_DeviceListType_ },
  { "TF_DeviceListMemoryBytes", TF_DeviceListMemoryBytes_ },
  { "TF_DeviceListIncarnation", TF_DeviceListIncarnation_ },
  { "TF_LoadLibrary", TF_LoadLibrary_ },
  { "TF_GetOpList", TF_GetOpList_ },
  { "TF_DeleteLibraryHandle", TF_DeleteLibraryHandle_ },
  { "TF_GetAllOpList", TF_GetAllOpList_ },
  { "TF_NewApiDefMap", TF_NewApiDefMap_ },
  { "TF_DeleteApiDefMap", TF_DeleteApiDefMap_ },
  { "TF_ApiDefMapPut", TF_ApiDefMapPut_ },
  { "TF_ApiDefMapGet", TF_ApiDefMapGet_ },
  { "TF_GetAllRegisteredKernels", TF_GetAllRegisteredKernels_ },
  { "TF_GetRegisteredKernelsForOp", TF_GetRegisteredKernelsForOp_ },
  { "TF_NewServer", TF_NewServer_ },
  { "TF_ServerStart", TF_ServerStart_ },
  { "TF_ServerStop", TF_ServerStop_ },
  { "TF_ServerJoin", TF_ServerJoin_ },
  { "TF_ServerTarget", TF_ServerTarget_ },
  { "TF_DeleteServer", TF_DeleteServer_ },
  { "TF_RegisterLogListener", TF_RegisterLogListener_ },
  // terminating entry
  { "EXIT", NULL },
};

#endif // TENSORFLOW_M_API_H
